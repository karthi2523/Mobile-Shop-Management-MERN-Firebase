"use strict";(self.webpackChunkmobile_shop_management=self.webpackChunkmobile_shop_management||[]).push([[230],{2230:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var n=a(9897),r=a(8047),o=a(2503),s=a(6395),i=a(5940),d=a(2050),l=a(7716),c=a(9296),u=a(6194),m=a(8368),p=a(5894),h=a(2424),x=a(5137),g=a(6014),b=a(8233),f=a(34),A=a(5919),v=a(6157);const W=()=>{const{login:e}=(0,A.A)(),[t,a]=(0,n.useState)(""),[W,y]=(0,n.useState)(""),[j,S]=(0,n.useState)(""),[k,w]=(0,n.useState)(!1),C=(0,r.Zp)(),G=async e=>{try{const t=await(0,i.x7)((0,i.H9)(s.db,"users",e));if(t.exists()){const e=t.data();"manager"===e.role?C("/manager-dashboard"):"employee"===e.role?C("/employee-dashboard"):"serviceMan"===e.role?C("/service-man-dashboard"):S("Invalid role. Please contact support.")}else S("User data not found. Please contact support.")}catch(j){S("Error fetching user data. Please try again."),console.error("Error fetching user data:",j)}};return(0,v.jsx)(d.A,{maxWidth:"xs",children:(0,v.jsxs)(l.A,{elevation:3,sx:{padding:3},children:[(0,v.jsx)(c.A,{variant:"h5",align:"center",gutterBottom:!0,children:"Login"}),(0,v.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),S("");try{const a=(await(0,o.x9)(s.j,t,W)).user;e(a),G(a.uid)}catch(n){S("Invalid email or password. Please try again."),console.error("Login error:",n)}},children:[(0,v.jsx)(u.A,{label:"Email",type:"email",variant:"outlined",fullWidth:!0,margin:"normal",value:t,onChange:e=>a(e.target.value),required:!0}),(0,v.jsx)(u.A,{label:"Password",type:k?"text":"password",variant:"outlined",fullWidth:!0,margin:"normal",value:W,onChange:e=>y(e.target.value),required:!0,InputProps:{endAdornment:(0,v.jsx)(m.A,{position:"end",children:(0,v.jsx)(p.A,{onClick:()=>w((e=>!e)),edge:"end",children:k?(0,v.jsx)(b.A,{}):(0,v.jsx)(f.A,{})})})}}),(0,v.jsx)(h.A,{sx:{textAlign:"center",marginTop:2},children:(0,v.jsx)(x.A,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Login"})}),j&&(0,v.jsx)(c.A,{color:"error",variant:"body2",sx:{marginTop:2},align:"center",children:j})]}),(0,v.jsx)(h.A,{sx:{textAlign:"center",marginTop:2},children:(0,v.jsx)(g.A,{href:"#",onClick:()=>C("/signup"),variant:"body2",children:"Don't have an account? Sign Up"})})]})})}},2050:(e,t,a)=>{a.d(t,{A:()=>S});var n=a(8801),r=a(319),o=a(9897),s=a(1099),i=a(2078),d=a(1996),l=a(6328),c=a(5904);var u=a(9993);function m(e){let{props:t,name:a,defaultTheme:n,themeId:r}=e,o=(0,u.A)(n);return r&&(o=o[r]||o),function(e){const{theme:t,name:a,props:n}=e;return t&&t.components&&t.components[a]&&t.components[a].defaultProps?(0,c.A)(t.components[a].defaultProps,n):n}({theme:o,name:a,props:t})}const p=(0,a(5250).Ay)();var h=a(2384),x=a(6157);const g=["className","component","disableGutters","fixed","maxWidth","classes"],b=(0,h.A)(),f=p("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t["maxWidth".concat((0,l.A)(String(a.maxWidth)))],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),A=e=>m({props:e,name:"MuiContainer",defaultTheme:b});var v=a(2737),W=a(3225),y=a(3307);const j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=f,useThemeProps:a=A,componentName:c="MuiContainer"}=e,u=t((e=>{let{theme:t,ownerState:a}=e;return(0,r.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto"},!a.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:a}=e;return a.fixed&&Object.keys(t.breakpoints.values).reduce(((e,a)=>{const n=a,r=t.breakpoints.values[n];return 0!==r&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(r).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:a}=e;return(0,r.A)((0,r.A)({},"xs"===a.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}}),a.maxWidth&&"xs"!==a.maxWidth&&{[t.breakpoints.up(a.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[a.maxWidth]).concat(t.breakpoints.unit)}})})),m=o.forwardRef((function(e,t){const o=a(e),{className:m,component:p="div",disableGutters:h=!1,fixed:b=!1,maxWidth:f="lg",classes:A}=o,v=(0,n.A)(o,g),W=(0,r.A)((0,r.A)({},o),{},{component:p,disableGutters:h,fixed:b,maxWidth:f}),y=((e,t)=>{const{classes:a,fixed:n,disableGutters:r,maxWidth:o}=e,s={root:["root",o&&"maxWidth".concat((0,l.A)(String(o))),n&&"fixed",r&&"disableGutters"]};return(0,d.A)(s,(e=>(0,i.Ay)(t,e)),a)})(W,c);return(0,x.jsx)(u,(0,r.A)({as:p,ownerState:W,className:(0,s.A)(y.root,m),ref:t},v))}));return m}({createStyledComponent:(0,W.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t["maxWidth".concat((0,v.A)(String(a.maxWidth)))],a.fixed&&t.fixed,a.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,y.b)({props:e,name:"MuiContainer"})}),S=j}}]);
//# sourceMappingURL=230.f06cfd68.chunk.js.map